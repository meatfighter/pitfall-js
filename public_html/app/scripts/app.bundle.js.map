{"version":3,"file":"app.bundle.js","mappings":"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","sources":["webpack://pitfall-js/./src/animate.ts","webpack://pitfall-js/./src/app.ts","webpack://pitfall-js/./src/death.ts","webpack://pitfall-js/./src/download.ts","webpack://pitfall-js/./src/game/game-state.ts","webpack://pitfall-js/./src/game/game.ts","webpack://pitfall-js/./src/graphics.ts","webpack://pitfall-js/./src/input.ts","webpack://pitfall-js/./src/progress.ts","webpack://pitfall-js/./src/screen.ts","webpack://pitfall-js/./src/sfx.ts","webpack://pitfall-js/./src/start.ts","webpack://pitfall-js/./src/store.ts","webpack://pitfall-js/./src/wake-lock.ts"],"sourcesContent":["import { update } from './game/game';\nimport { render } from './screen';\n\nconst FRAMES_PER_SECOND = 60;\nconst MILLIS_PER_FRAME = 1000 / FRAMES_PER_SECOND;\nconst MAX_UPDATES_WITHOUT_RENDER = 5;\n\nlet animationRunning = false;\nlet frameID = 0;\nlet previousTime = 0;\nlet lagTime = 0;\n\nexport function startAnimation() {\n    if (animationRunning) {\n        return;\n    }\n    animationRunning = true;\n    lagTime = 0;\n    frameID = requestAnimationFrame(renderAndUpdate);\n    previousTime = performance.now();\n}\n\nexport function stopAnimation() {\n    if (!animationRunning) {\n        return;\n    }\n    animationRunning = false;\n    cancelAnimationFrame(frameID);\n}\n\nexport function renderAndUpdate() {\n    if (!animationRunning) {\n        return;\n    }\n\n    frameID = requestAnimationFrame(renderAndUpdate);\n\n    render();\n\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - previousTime;\n    previousTime = currentTime;\n    lagTime += elapsedTime;\n\n    let count = 0;\n    while ((lagTime >= MILLIS_PER_FRAME) && animationRunning) {\n        update();\n        lagTime -= MILLIS_PER_FRAME;\n        if (++count > MAX_UPDATES_WITHOUT_RENDER) {\n            lagTime = 0;\n            previousTime = performance.now();\n            break;\n        }\n    }\n}","import { enter as enterProgress } from \"./progress\";\nimport { enter as enterDeath } from \"./death\";\n\nexport function init() {\n    window.addEventListener('error', e => {\n        console.error(`Caught in global handler: ${e.message}`, {\n            source: e.filename,\n            lineno: e.lineno,\n            colno: e.colno,\n            error: e.error\n        });\n        e.preventDefault();\n        enterDeath();\n    });\n    window.addEventListener('unhandledrejection', e => e.preventDefault());\n    document.addEventListener('dblclick', e => e.preventDefault(), { passive: false });\n\n    enterProgress();\n}","let landscape = false;\r\n\r\nexport function enter() {\r\n    window.addEventListener('resize', windowResized);\r\n    window.addEventListener('touchmove', onTouchMove, { passive: false });\r\n\r\n    const mainElement = document.getElementById('main-content') as HTMLElement;\r\n    mainElement.innerHTML = '<div id=\"death-div\"><span id=\"fatal-error\">&#x1F480;</span></div>';\r\n\r\n    windowResized();\r\n}\r\n\r\nexport function exit() {\r\n    window.removeEventListener('resize', windowResized);\r\n    window.removeEventListener('touchmove', onTouchMove);\r\n}\r\n\r\nfunction onTouchMove(e: TouchEvent) {\r\n    e.preventDefault();\r\n}\r\n\r\nfunction windowResized() {\r\n    const deathDiv = document.getElementById('death-div') as HTMLDivElement;\r\n\r\n    deathDiv.style.top = deathDiv.style.left = deathDiv.style.transform = '';\r\n    deathDiv.style.display = 'none';\r\n\r\n    const innerWidth = window.innerWidth;\r\n    const innerHeight = window.innerHeight;\r\n    landscape = (innerWidth >= innerHeight);\r\n    deathDiv.style.display = 'flex';\r\n\r\n    if (landscape) {\r\n        const rect = deathDiv.getBoundingClientRect();\r\n        deathDiv.style.left = `${(innerWidth - rect.width) / 2}px`\r\n        deathDiv.style.top = `${(innerHeight - rect.height) / 2}px`;\r\n    } else {\r\n        deathDiv.style.transform = 'rotate(-90deg)';\r\n        const rect = deathDiv.getBoundingClientRect();\r\n        deathDiv.style.left = `${(innerWidth - rect.height) / 2}px`\r\n        deathDiv.style.top = `${(innerHeight - rect.width) / 2}px`;\r\n    }\r\n}","const MAX_FETCH_RETRIES = 5;\r\n\r\nexport type ProgressListener = (frac: number) => void;\r\n\r\nexport async function download(url: string, progressListener: ProgressListener) {\r\n    for (let i = MAX_FETCH_RETRIES - 1; i >= 0; --i) {\r\n        try {\r\n            const response = await fetch(url);\r\n            if (!response.ok) {\r\n                continue;\r\n            }\r\n            const contentLengthStr = response.headers.get('Content-Length');\r\n            if (!contentLengthStr) {\r\n                continue;\r\n            }\r\n            const contentLength = parseInt(contentLengthStr);\r\n            if (isNaN(contentLength) || contentLength <= 0) {\r\n                continue;\r\n            }\r\n            const body = response.body;\r\n            if (body === null) {\r\n                continue;\r\n            }\r\n\r\n            const reader = body.getReader();\r\n            const chunks = [];\r\n            let bytesReceived = 0;\r\n            while (true) {\r\n                const { done, value: chunk } = await reader.read();\r\n                if (done) {\r\n                    break;\r\n                }\r\n                chunks.push(chunk);\r\n                bytesReceived += chunk.length;\r\n                progressListener(bytesReceived / contentLength);\r\n            }\r\n\r\n            const uint8Array = new Uint8Array(bytesReceived);\r\n            let position = 0;\r\n            chunks.forEach(chunk => {\r\n                uint8Array.set(chunk, position);\r\n                position += chunk.length;\r\n            });\r\n            return uint8Array;\r\n        } catch (error) {\r\n            if (i === 0) {\r\n                throw error;\r\n            }\r\n        }\r\n    }\r\n    throw new Error(\"Failed to fetch.\");\r\n}","import { store, saveStore } from '@/store';\r\n\r\nexport class GameState {\r\n\r\n    save() {\r\n        saveStore();\r\n    }    \r\n}","import { GameState } from './game-state';\r\nimport { charSprites, harrySprites, goldSprites } from '@/graphics';\r\n\r\nlet gs: GameState;\r\n\r\nexport function resetGame() {\r\n    gs = new GameState();\r\n}\r\n\r\nexport function saveGame() {\r\n    gs.save();    \r\n}\r\n\r\nexport function update() {\r\n}\r\n\r\nexport function renderScreen(ctx: CanvasRenderingContext2D) {\r\n\r\n    // ctx.drawImage(goldSprites[0], 8, 8);\r\n    // ctx.drawImage(goldSprites[1], 24, 8);\r\n\r\n    for (let dir = 0; dir < 2; ++dir) {\r\n        for (let i = 0; i < 8; ++i) {\r\n            ctx.drawImage(harrySprites[dir][i], 8 * i, 8 + 22 * dir);\r\n        }\r\n    }\r\n\r\n    for (let i = 0; i < 11; ++i) {\r\n        ctx.drawImage(charSprites[0x0C][i], 8 * i, 0);\r\n    }\r\n}","class RGBColor {\r\n    constructor(public readonly r: number, public readonly g: number, public readonly b: number) {        \r\n    }\r\n}\r\n\r\nexport type Sprite = ImageBitmap;\r\nexport type Mask = boolean[][];\r\n\r\nexport enum Resolution {\r\n    WIDTH = 160,\r\n    HEIGHT = 228,\r\n}\r\n\r\nexport enum PhysicalDimensions {\r\n    WIDTH = 4,\r\n    HEIGHT = 3,\r\n}\r\n\r\nexport const colors: string[] = new Array<string>(256);\r\n\r\nexport const harrySprites: Sprite[][] = new Array<Sprite[]>(2); // direction, sprite\r\nexport const harryMasks: Mask[][] = new Array<Mask[]>(2); // direction, mask\r\n\r\nexport const cobraSprites: Sprite[][] = new Array<Sprite[]>(2); // direction, sprite\r\nexport const cobraMasks: Mask[][] = new Array<Mask[]>(2); // direction, mask\r\n\r\nexport const crocSprites: Sprite[][] = new Array<Sprite[]>(2); // direction, sprite\r\nexport const crocMasks: Mask[][] = new Array<Mask[]>(2); // direction, mask\r\n\r\nexport const sorpionSprites: Sprite[][] = new Array<Sprite[]>(2); // direction, sprite\r\nexport const sorpionMasks: Mask[][] = new Array<Mask[]>(2); // direction, mask\r\n\r\nexport const logSprites: Sprite[] = new Array<Sprite>(2);\r\nexport const logMasks: Mask[] = new Array<Mask>(2);\r\n\r\nexport const fireSprites: Sprite[] = new Array<Sprite>(2);\r\nexport const fireMasks: Mask[] = new Array<Mask>(2);\r\n\r\nexport const goldSprites: Sprite[] = new Array<Sprite>(2);\r\nexport const goldMasks: Mask[] = new Array<Mask>(2);\r\n\r\nexport const silverSprites: Sprite[] = new Array<Sprite>(2);\r\nexport const silverMasks: Mask[] = new Array<Mask>(2);\r\n\r\nexport let moneySprite: Sprite;\r\nexport let moneyMask: Mask;\r\n\r\nexport let ringSprite: Sprite;\r\nexport let ringMask: Mask;\r\n\r\nexport let wallSprite: Sprite;\r\n\r\nexport const charSprites: Sprite[][] = new Array<Sprite[]>(256); // color, character\r\n\r\nasync function createSprite(width: number, height: number, callback: (imageData: ImageData) => void): \r\n        Promise<{ imageBitmap: Sprite, imageData: ImageData }> {\r\n    return new Promise(resolve => {\r\n        const imageData = new ImageData(width, height);\r\n        callback(imageData);\r\n        createImageBitmap(imageData).then(imageBitmap => resolve({ imageBitmap, imageData }));\r\n    });\r\n}\r\n\r\nfunction createMask(imageData: ImageData): Mask {\r\n    const mask = new Array<boolean[]>(imageData.height);\r\n    const { data } = imageData;\r\n    for (let y = 0, i = 3; y < imageData.height; ++y) {\r\n        mask[y] = new Array<boolean>(imageData.width);\r\n        for (let x = 0; x < imageData.width; ++x, i += 4) {\r\n            mask[y][x] = data[i] !== 0;\r\n        }\r\n    }\r\n    return mask;\r\n}\r\n\r\nfunction createSpriteAndMask(binStr: string, palette: RGBColor[], spriteOffset: number, colorOffset: number, \r\n        height: number, flipped: boolean, spriteCallback: (sprite: Sprite) => void, \r\n        maskCallback: ((mask: Mask) => void) | null, promises: Promise<any>[]) {\r\n\r\n    promises.push(createSprite(8, height, imageData => {\r\n        if (flipped) {\r\n            for (let y = 0; y < height; ++y) {\r\n                const offset = height - 1 - y;\r\n                const byte = binStr.charCodeAt(spriteOffset + offset);\r\n                const color = palette[binStr.charCodeAt(colorOffset + offset)];\r\n                for (let x = 0, mask = 0x01; x < 8; ++x, mask <<= 1) {\r\n                    if ((byte & mask) !== 0) {\r\n                        setColor(imageData, x, y, color);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            for (let y = 0; y < height; ++y) {\r\n                const offset = height - 1 - y;\r\n                const byte = binStr.charCodeAt(spriteOffset + offset);\r\n                const color = palette[binStr.charCodeAt(colorOffset + offset)];\r\n                for (let x = 0, mask = 0x80; x < 8; ++x, mask >>= 1) {\r\n                    if ((byte & mask) !== 0) {\r\n                        setColor(imageData, x, y, color);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }).then(({ imageBitmap, imageData }) => {\r\n        spriteCallback(imageBitmap);\r\n        if (maskCallback) {\r\n            maskCallback(createMask(imageData));\r\n        }\r\n    }));        \r\n}\r\n\r\nfunction extractPalette(): RGBColor[] {\r\n    const palette = new Array<RGBColor>(256);\r\n    const binStr = atob('AAAAPz8+ZGRjhISDoqKhurq50tLR6urpPT0AXl4Ke3sVmZkgtLQqzc005uY+/f1IcSMAhj0LmVcYrW8mvYYyzZs+3LBJ6s'\r\n        + 'JUhhUAmi8OrkgewGEv0Xc+4I1N76Jb/bVoigAAnhMSsSgnwj080lFQ4mRj73V0/YaFeQBYjRJuoCeEsTuYwE6q0GG83XHM6oLcRQB4XRKPci'\r\n        + 'ekiDu5m07KrmHcv3Hs0IL7DgCFKROZQyitXT2/dFHQi2TfoXXutYb7AACKEhOdJCiwNz3BSVHRWmTganXueYb7ABV9EjGTJEynN2e7SYDMWp'\r\n        + 'fdaq7tecL7ACdYEkV0JGKNN36nSZe+WrDUasfoed37ADUmEldCJHZdN5V2SbGOWsylauW7ef3PADkAE1sSKHknPZc8UbNQZM1jdeZ0hv2FDj'\r\n        + 'IAK1QRR3MjY5M2fbBIlctZreVpwv14Jy4ARU4PYmshfogzl6NDsLxTx9Ri3epwPSMAXkINe18dmXsttJY7za9K5sdX/d1k');         \r\n    for (let i = 0x00; i <= 0xFF; ++i) {       \r\n        const j = 3 * (i >> 1);\r\n        const col = new RGBColor(binStr.charCodeAt(j), binStr.charCodeAt(j + 1), binStr.charCodeAt(j + 2));\r\n        palette[i] = col;\r\n        colors[i] = `#${((col.r << 16) | (col.g << 8) | col.b).toString(16).padStart(6, '0')}`;\r\n    }\r\n    return palette;\r\n}\r\n\r\nfunction setColor(imageData: ImageData, x: number, y: number, color: RGBColor) {\r\n    const offset = 4 * (y * imageData.width + x);\r\n    const data = imageData.data;\r\n    data[offset] = color.r;\r\n    data[offset + 1] = color.g;\r\n    data[offset + 2] = color.b;\r\n    data[offset + 3] = 0xFF;\r\n}\r\n\r\nexport async function init() {\r\n\r\n    enum Offsets {\r\n        CLIMBCOLTAB = 0,\r\n        RUNCOLTAB = 22,\r\n        LOGCOLOR = 43,\r\n        FIRECOLOR = 59,\r\n        COBRACOLOR = 75,\r\n        CROCOCOLOR = 91,\r\n        MONEYBAGCOLOR = 107,\r\n        SCORPIONCOLOR = 123,\r\n        WALLCOLOR = 139,\r\n        RINGCOLOR = 155,\r\n        GOLDBARCOLOR = 171,\r\n        SILVERBARCOLOR = 187,\r\n        PFLEAVESTAB = 203,\r\n        HARRY0 = 219,\r\n        HARRY1 = 241,\r\n        HARRY2 = 263,\r\n        HARRY3 = 285,\r\n        HARRY4 = 307,\r\n        HARRY5 = 329,\r\n        HARRY6 = 351,\r\n        HARRY7 = 373,\r\n        BRANCHTAB = 395,\r\n        ONEHOLE = 404,\r\n        THREEHOLES = 412,\r\n        PIT = 420,\r\n        LOG0 = 428,\r\n        FIRE0 = 444,\r\n        COBRA0 = 460,\r\n        COBRA1 = 476,\r\n        CROCO0 = 492,\r\n        CROCO1 = 508,\r\n        MONEYBAG = 524,\r\n        SCORPION0 = 540,\r\n        SCORPION1 = 556,\r\n        WALL = 572,\r\n        BAR0 = 588,\r\n        BAR1 = 604,\r\n        RING = 620,\r\n        ZERO = 636,\r\n        ONE = 644,\r\n        TWO = 652,\r\n        THREE = 660,\r\n        FOUR = 668,\r\n        SIX = 684,\r\n        SEVEN = 692,\r\n        EIGHT = 700,\r\n        NINE = 708,\r\n        COLON = 716,\r\n    }\r\n\r\n    const palette = extractPalette();\r\n\r\n    const binStr = atob('0tLS0tLS0tLS0tLSyMjIyMjISkpKEtLS0tLS0tLS0tLIyMjIyMjISkpKEhISEhISEhISEhISEhISEhISEhISEj4+Pi4uLi'\r\n        + '4uLi4uAAAGAAYAAAAAAAAAAABCQtLS0tLS0tLS0tLS0tLS0tIGBgYGBgYGBgYGBgYSBgYGDg4ODg4ODg4ODg4ODg4ODgZCQkIGQkJCBkJCQg'\r\n        + 'ZCQkJCQh4eHh4eHh4eDg4ODg4OHh4eHh4eHh4ODg4ODg4ODgYGBgYGBgYODg4ODg4ODg7/z4MBfz0YAP/+vBj+/HgwAAAAAAAzctoeHBhYWH'\r\n        + 'w+GhgQGBgYAACAgMNiYjY+HBgYPD46OBgYEBgYGAAQICIkNDIWHhwYGBwcGBgYGBAYGBgADAgoKD4KDhwYGBwcGBgYGBgQGBgYAAACQ0R0FB'\r\n        + 'wcGBgYPD46OBgYEBgYGAAYEBwYGBgYGBgYGBgcHhoYGBAYGBgAAAAAAAAAY/L23MDAwMDA8NCQ0NDAADAQEBAWFBQWEhYeHBg4ODweGgIYGB'\r\n        + 'gYftuZmZmZmZl/f3///////3h4eP//////AAEDD3////8AGCRaWlpmfl52fl52PBgAAMPnfjwYPHx8eDg4MDAQEAD++fn5+WAQCAwMCDgwQA'\r\n        + 'AA/vn5+vpgEAgMDAg4MIAAAAAAAAD/qwMDCy664IAAAAAAAAAA/6tV/wYEAAAAAAAAPnd3Y3tjb2M2NhwIHDYAhTI9ePjGgpCI2HAAAAAAAE'\r\n        + 'kzPHj6xJKI2HAAAAAAAAD+urq6/u7u7v66urr+7u7uAPj8/v5+PgAQAFQAkgAQAAD4/P7+fj4AACgAVAAQAAAAADhsREREbDgQOHw4AAAAPG'\r\n        + 'ZmZmZmZjw8GBgYGBg4GH5gYDwGBkY8PEYGDAwGRjwMDAx+TCwcDHxGBgZ8YGB+PGZmZnxgYjwYGBgYDAZCfjxmZjw8ZmY8PEYGPmZmZjwAGB'\r\n        + 'gAABgYAA==');\r\n\r\n    const promises: Promise<any>[] = [];\r\n\r\n    // harry\r\n    for (let dir = 0; dir < 2; ++dir) {\r\n        harrySprites[dir] = new Array<Sprite>(8);\r\n        harryMasks[dir] = new Array<Mask>(8);\r\n        for (let i = 0; i < 8; ++i) {\r\n            let j = (i <= 5) ? 5 - i : i;\r\n            createSpriteAndMask(binStr, palette, Offsets.HARRY0 + 22 * i, \r\n                    (i === 7) ? Offsets.CLIMBCOLTAB : Offsets.RUNCOLTAB, 22, dir === 1, \r\n                    sprite => harrySprites[dir][j] = sprite, mask => harryMasks[dir][j] = mask, promises);\r\n        }\r\n    }\r\n\r\n    for (let dir = 0; dir < 2; ++dir) {\r\n        const flipped = dir === 1;\r\n\r\n        // cobra\r\n        cobraSprites[dir] = new Array<Sprite>(2);\r\n        cobraMasks[dir] = new Array<Mask>(2);\r\n        createSpriteAndMask(binStr, palette, Offsets.COBRA1, Offsets.COBRACOLOR, 16, flipped,\r\n                sprite => cobraSprites[dir][0] = sprite, mask => cobraMasks[dir][0] = mask, promises);\r\n        createSpriteAndMask(binStr, palette, Offsets.COBRA0, Offsets.COBRACOLOR, 16, flipped,\r\n                sprite => cobraSprites[dir][1] = sprite, mask => cobraMasks[dir][1] = mask, promises);\r\n\r\n        // croc\r\n        crocSprites[dir] = new Array<Sprite>(2);\r\n        crocMasks[dir] = new Array<Mask>(2);\r\n        createSpriteAndMask(binStr, palette, Offsets.CROCO1, Offsets.CROCOCOLOR, 16, flipped,\r\n                sprite => crocSprites[dir][0] = sprite, mask => crocMasks[dir][0] = mask, promises);\r\n        createSpriteAndMask(binStr, palette, Offsets.CROCO0, Offsets.CROCOCOLOR, 16, flipped,\r\n                sprite => crocSprites[dir][1] = sprite, mask => crocMasks[dir][1] = mask, promises);\r\n\r\n        // sorpion\r\n        sorpionSprites[dir] = new Array<Sprite>(2);\r\n        sorpionMasks[dir] = new Array<Mask>(2);\r\n        createSpriteAndMask(binStr, palette, Offsets.SCORPION1, Offsets.SCORPIONCOLOR, 16, flipped,\r\n                sprite => sorpionSprites[dir][0] = sprite, mask => sorpionMasks[dir][0] = mask, promises);\r\n        createSpriteAndMask(binStr, palette, Offsets.SCORPION0, Offsets.SCORPIONCOLOR, 16, flipped,\r\n                sprite => sorpionSprites[dir][1] = sprite, mask => sorpionMasks[dir][1] = mask, promises);\r\n    }\r\n\r\n    // log\r\n    createSpriteAndMask(binStr, palette, Offsets.LOG0, Offsets.LOGCOLOR, 16, true,\r\n            sprite => logSprites[0] = sprite, mask => logMasks[0] = mask, promises);\r\n    createSpriteAndMask(binStr, palette, Offsets.LOG0, Offsets.LOGCOLOR, 16, false,\r\n            sprite => logSprites[1] = sprite, mask => logMasks[1] = mask, promises);\r\n            \r\n    // fire\r\n    createSpriteAndMask(binStr, palette, Offsets.FIRE0, Offsets.FIRECOLOR, 16, true,\r\n            sprite => fireSprites[0] = sprite, mask => fireMasks[0] = mask, promises);\r\n    createSpriteAndMask(binStr, palette, Offsets.FIRE0, Offsets.FIRECOLOR, 16, false,\r\n            sprite => fireSprites[1] = sprite, mask => fireMasks[1] = mask, promises);\r\n\r\n    // gold\r\n    createSpriteAndMask(binStr, palette, Offsets.BAR1, Offsets.GOLDBARCOLOR, 16, false,\r\n            sprite => goldSprites[0] = sprite, mask => goldMasks[0] = mask, promises);\r\n    createSpriteAndMask(binStr, palette, Offsets.BAR0, Offsets.GOLDBARCOLOR, 16, false,\r\n            sprite => goldSprites[1] = sprite, mask => goldMasks[1] = mask, promises);\r\n    \r\n    // silver\r\n    createSpriteAndMask(binStr, palette, Offsets.BAR1, Offsets.SILVERBARCOLOR, 16, false,\r\n            sprite => silverSprites[0] = sprite, mask => silverMasks[0] = mask, promises);\r\n    createSpriteAndMask(binStr, palette, Offsets.BAR0, Offsets.SILVERBARCOLOR, 16, false,\r\n            sprite => silverSprites[1] = sprite, mask => silverMasks[1] = mask, promises);\r\n\r\n    // money\r\n    createSpriteAndMask(binStr, palette, Offsets.MONEYBAG, Offsets.MONEYBAGCOLOR, 16, false, \r\n            sprite => moneySprite = sprite, mask => moneyMask = mask, promises);\r\n\r\n    // ring\r\n    createSpriteAndMask(binStr, palette, Offsets.RING, Offsets.RINGCOLOR, 16, false, sprite => ringSprite = sprite, \r\n            mask => ringMask = mask, promises);\r\n\r\n    // wall\r\n    createSpriteAndMask(binStr, palette, Offsets.WALL, Offsets.WALLCOLOR, 16, false, sprite => wallSprite = sprite, \r\n            null, promises);\r\n\r\n    // characters        \r\n    for (let color = 0; color < 256; ++color) {        \r\n        const charCol = palette[color];\r\n        charSprites[color] = new Array<Sprite>(11);\r\n        for (let char = 0; char < 11; ++char) {\r\n            promises.push(createSprite(8, 8, imageData => {\r\n                const offset = Offsets.ZERO + 8 * (char + 1) - 1;\r\n                for (let y = 0; y < 8; ++y) {\r\n                    const byte = binStr.charCodeAt(offset - y);\r\n                    for (let x = 0, mask = 0x80; x < 8; ++x, mask >>= 1) {\r\n                        if ((byte & mask) !== 0) {\r\n                            setColor(imageData, x, y, charCol);\r\n                        }\r\n                    }\r\n                }\r\n            }).then(({ imageBitmap }) => charSprites[color][char] = imageBitmap));        \r\n        }\r\n    }    \r\n\r\n    await Promise.all(promises);\r\n}","import { exit } from '@/screen';\r\n\r\nlet leftKeyPressed = 0;\r\nlet rightKeyPressed = 0;\r\nlet fireKeyPressed = false;\r\n\r\nlet leftScreenTouched = false;\r\nlet rightScreenTouched = false;\r\n\r\nlet hideCursorTimeoutId: number | null = null;\r\nlet cursorHidden = false;\r\n\r\nlet lastLeftGamepadDown = false;\r\nlet lastRightGamepadDown = false;\r\nlet lastFireGamepadDown = false;\r\n\r\nclass TouchData {\r\n    timestampDown = 0;\r\n    xDown = 0;\r\n    yDown = 0;\r\n    x = 0;\r\n    y = 0;\r\n}\r\n\r\nconst touchDatas: Map<number, TouchData> = new Map();\r\n\r\nexport function isTouchOnlyDevice(): boolean {\r\n    const supportsTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\r\n    const supportsHover = window.matchMedia('(hover: hover)').matches;\r\n    const isCoarsePointer = window.matchMedia('(pointer: coarse)').matches;\r\n    return supportsTouch && !supportsHover && isCoarsePointer;\r\n}\r\n\r\nexport function startInput() {\r\n    window.addEventListener('click', onClick);\r\n    window.addEventListener('mousemove', resetHideCursorTimer);\r\n    window.addEventListener('mouseenter', resetHideCursorTimer);\r\n    window.addEventListener('mouseleave', cancelHideCursorTimer);\r\n    resetHideCursorTimer();\r\n\r\n    window.addEventListener('touchstart', onTouch, { passive: false });\r\n    window.addEventListener('touchmove', onTouch, { passive: false });\r\n    window.addEventListener('touchend', onTouch, { passive: false });\r\n    window.addEventListener('touchcancel', onTouch, { passive: false });\r\n\r\n    window.addEventListener('keydown', onKeyDown);\r\n    window.addEventListener('keyup', onKeyUp);\r\n\r\n    leftKeyPressed = 0;\r\n    rightKeyPressed = 0;\r\n    fireKeyPressed = false;\r\n\r\n    leftScreenTouched = false;\r\n    rightScreenTouched = false;\r\n\r\n    touchDatas.clear();\r\n}\r\n\r\nexport function stopInput() {\r\n    window.removeEventListener('click', onClick);\r\n    window.removeEventListener('mousemove', resetHideCursorTimer);\r\n    window.removeEventListener('mouseenter', resetHideCursorTimer);\r\n    window.removeEventListener('mouseleave', cancelHideCursorTimer);\r\n    cancelHideCursorTimer();\r\n\r\n    window.removeEventListener('keydown', onKeyDown);\r\n    window.removeEventListener('keyup', onKeyUp);\r\n\r\n    window.removeEventListener('touchstart', onTouch);\r\n    window.removeEventListener('touchmove', onTouch);\r\n    window.removeEventListener('touchend', onTouch);\r\n    window.removeEventListener('touchcancel', onTouch);\r\n\r\n    leftKeyPressed = 0;\r\n    rightKeyPressed = 0;\r\n    fireKeyPressed = false;\r\n\r\n    leftScreenTouched = false;\r\n    rightScreenTouched = false;\r\n    \r\n    touchDatas.clear();\r\n}\r\n\r\nexport function updateInput() {\r\n    const gamepads = navigator.getGamepads();\r\n    if (!gamepads) {\r\n        return;\r\n    }\r\n\r\n    let leftDown = false;\r\n    let rightDown = false;\r\n    let fireDown = false;\r\n    for (let i = gamepads.length - 1; i >= 0; --i) {\r\n        const gamepad = gamepads[i];\r\n        if (!gamepad) {\r\n            continue;            \r\n        } \r\n\r\n        // D-pad left or left shoulder or left stick\r\n        if (gamepad.buttons[14]?.pressed || gamepad.buttons[4]?.pressed || gamepad.buttons[10]?.pressed) {\r\n            leftDown = true;\r\n        }\r\n\r\n        // D-pad right or right shoulder or right stick\r\n        if (gamepad.buttons[15]?.pressed || gamepad.buttons[5]?.pressed || gamepad.buttons[11]?.pressed) {\r\n            rightDown = true;\r\n        }\r\n\r\n        // Analog stick left or right\r\n        const horizontalAxis = gamepad.axes[0];\r\n        if (horizontalAxis < -0.5) {\r\n            leftDown = true;\r\n        } else if (horizontalAxis > 0.5) {\r\n            rightDown = true;\r\n        }\r\n\r\n        // Non-directional buttons\r\n        if (gamepad.buttons[0]?.pressed || gamepad.buttons[1]?.pressed || gamepad.buttons[2]?.pressed \r\n                || gamepad.buttons[3]?.pressed || gamepad.buttons[6]?.pressed || gamepad.buttons[7]?.pressed \r\n                || gamepad.buttons[8]?.pressed || gamepad.buttons[9]?.pressed) {\r\n            fireDown = true;\r\n        }\r\n    }\r\n\r\n    if (leftDown) {\r\n        if (!lastLeftGamepadDown) {            \r\n            leftKeyPressed = rightKeyPressed + 1;\r\n        }\r\n    } else if (lastLeftGamepadDown) {\r\n        leftKeyPressed = 0;\r\n    }\r\n    lastLeftGamepadDown = leftDown;\r\n\r\n    if (rightDown) {\r\n        if (!lastRightGamepadDown) {            \r\n            rightKeyPressed = leftKeyPressed + 1;\r\n        }\r\n    } else if (lastRightGamepadDown) {\r\n        rightKeyPressed = 0;\r\n    }\r\n    lastRightGamepadDown = rightDown;\r\n\r\n    if (fireDown) {\r\n        if (!lastFireGamepadDown) {\r\n            fireKeyPressed = true;\r\n        }\r\n    } else if (lastFireGamepadDown) {\r\n        fireKeyPressed = false;\r\n    }\r\n    lastFireGamepadDown = fireDown;\r\n}\r\n\r\nexport function isLeftPressed(): boolean {\r\n    return leftScreenTouched || leftKeyPressed > rightKeyPressed;\r\n}\r\n\r\nexport function isRightPressed(): boolean {\r\n    return rightScreenTouched || rightKeyPressed > leftKeyPressed;\r\n}\r\n\r\nexport function isFirePressed(): boolean {\r\n    return fireKeyPressed;\r\n}\r\n\r\nfunction cancelHideCursorTimer() {\r\n    if (hideCursorTimeoutId !== null) {\r\n        clearTimeout(hideCursorTimeoutId);\r\n        hideCursorTimeoutId = null;\r\n    }\r\n\r\n    if (cursorHidden) {\r\n        document.body.style.cursor = 'default';\r\n        cursorHidden = false;\r\n    }\r\n}\r\n\r\nfunction resetHideCursorTimer() {\r\n    cancelHideCursorTimer();\r\n\r\n    hideCursorTimeoutId = window.setTimeout(() => {\r\n        document.body.style.cursor = 'none';\r\n        cursorHidden = true;\r\n    }, 3000);\r\n}\r\n\r\nfunction onTouch(e: TouchEvent) {\r\n    e.preventDefault();    \r\n\r\n    const innerWidth = window.innerWidth;\r\n    const innerHeight = window.innerHeight;\r\n    const landscape = innerWidth >= innerHeight;\r\n\r\n    for (let i = e.changedTouches.length - 1; i >= 0; --i) {\r\n        const t = e.changedTouches[i];\r\n        let x: number;\r\n        let y: number;\r\n        if (landscape) {\r\n            x = t.clientX;\r\n            y = t.clientY;\r\n        } else {\r\n            x = innerHeight - 1 - t.clientY;\r\n            y = t.clientX;\r\n        }\r\n        switch (e.type) {\r\n            case 'touchstart': {\r\n                const touchData = new TouchData();\r\n                touchData.timestampDown = Date.now();\r\n                touchData.xDown = touchData.x = x;\r\n                touchData.yDown = touchData.y = y;\r\n                touchDatas.set(t.identifier, touchData);\r\n                break;\r\n            }\r\n            case 'touchmove': {\r\n                resetHideCursorTimer();\r\n                const touchData = touchDatas.get(t.identifier);\r\n                if (touchData) {\r\n                    touchData.x = x;\r\n                    touchData.y = y;\r\n                }\r\n                break;\r\n            }\r\n            case 'touchend':\r\n            case 'touchcancel': {\r\n                const touchData = touchDatas.get(t.identifier);\r\n                if (touchData) {\r\n                    if (x < 64 && y < 64 && touchData.xDown < 64 && touchData.yDown < 64) {\r\n                        exit();\r\n                    } \r\n                    touchDatas.delete(t.identifier);\r\n                }              \r\n                break;\r\n            }\r\n        }\r\n    }\r\n    \r\n    let td: TouchData | null = null;\r\n    for (const [ identifier, touchData ] of Array.from(touchDatas)) {\r\n        if (!td || touchData.timestampDown > td.timestampDown) {\r\n            td = touchData;\r\n        }\r\n        outer: {\r\n            for (let i = e.touches.length - 1; i >= 0; --i) {\r\n                const t = e.touches[i];\r\n                if (t.identifier === identifier) {\r\n                    break outer;\r\n                }      \r\n            }\r\n            touchDatas.delete(identifier);\r\n        }\r\n    }\r\n    if (td) {\r\n        if (td.x < innerWidth / 2) {\r\n            leftScreenTouched = true;\r\n            rightScreenTouched = false;\r\n        } else {\r\n            leftScreenTouched = false;\r\n            rightScreenTouched = true;\r\n        }\r\n    } else {\r\n        leftScreenTouched = rightScreenTouched = false;\r\n    }\r\n}\r\n\r\nfunction onClick(e: MouseEvent) {\r\n    if (!(e.clientX && e.clientY)) {\r\n        return;\r\n    }\r\n\r\n    const innerWidth = window.innerWidth;\r\n    const innerHeight = window.innerHeight;\r\n    let x: number;\r\n    let y: number;\r\n    if (innerWidth >= innerHeight) {\r\n        x = e.clientX;\r\n        y = e.clientY;\r\n    } else {\r\n        x = innerHeight - 1 - e.clientY;\r\n        y = e.clientX;\r\n    }\r\n\r\n    if (x < 64 && y < 64) {\r\n        exit();\r\n    }\r\n}\r\n\r\nfunction onKeyDown(e: KeyboardEvent) {\r\n    switch(e.code) {\r\n        case 'KeyA':\r\n        case 'ArrowLeft':\r\n            leftKeyPressed = rightKeyPressed + 1;\r\n            break;\r\n        case 'KeyD':\r\n        case 'ArrowRight':\r\n            rightKeyPressed = leftKeyPressed + 1;\r\n            break;\r\n        case 'Escape':\r\n            exit();\r\n            break;    \r\n        default:\r\n            fireKeyPressed = true;\r\n            break;            \r\n    }\r\n}\r\n\r\nfunction onKeyUp(e: KeyboardEvent) {\r\n    switch(e.code) {\r\n        case 'KeyA':\r\n        case 'ArrowLeft':\r\n            leftKeyPressed = 0;\r\n            break;\r\n        case 'KeyD':\r\n        case 'ArrowRight':\r\n            rightKeyPressed = 0;\r\n            break;\r\n        case 'Escape':\r\n            break;\r\n        default:\r\n            fireKeyPressed = false;\r\n            break;            \r\n    }\r\n}","import { download } from \"./download\";\nimport { decodeAudioData, waitForDecodes } from \"./sfx\";\nimport { enter as enterStart } from \"./start\";\nimport { loadStore } from \"./store\";\nimport { init as initGraphics } from './graphics';\n\nlet landscape = false;\nlet progressBar: HTMLProgressElement;\n\nexport function enter() {\n    window.addEventListener('resize', windowResized);\n    window.addEventListener('touchmove', onTouchMove, { passive: false });\n\n    const mainElement = document.getElementById('main-content') as HTMLElement;\n    mainElement.innerHTML = `\n            <div id=\"progress-container\">\n                <div id=\"progress-div\">\n                    <progress id=\"loading-progress\" value=\"0\" max=\"100\"></progress>\n                </div>\n            </div>`;\n    progressBar = document.getElementById('loading-progress') as HTMLProgressElement;\n\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.addEventListener('message', messageReceived);\n    }\n\n    windowResized();\n\n    download('resources.zip', frac => {\n        progressBar.value = 100 * frac;\n        setProgressBarColor('#0075FF');\n    }).then(onDownload);\n}\n\nexport function exit() {\n    window.removeEventListener('resize', windowResized);\n    window.removeEventListener('touchmove', onTouchMove);\n\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.removeEventListener('message', messageReceived);\n    }\n}\n\nfunction setProgressBarColor(color: string) {\n\n    if (progressBar) {\n        if (color === progressBar.style.color) {\n            return;\n        }\n        progressBar.style.color = color;\n    }\n\n    const styleId: string = 'progress-bar-style';\n\n    let styleSheet: HTMLStyleElement | null = document.getElementById(styleId) as HTMLStyleElement;\n\n    if (!styleSheet) {\n        styleSheet = document.createElement(\"style\");\n        styleSheet.id = styleId;\n        document.head.appendChild(styleSheet);\n    }\n\n    styleSheet.innerText = `\n        #loading-progress::-webkit-progress-value {\n            background-color: ${color} !important;\n        }\n        #loading-progress::-moz-progress-bar {\n            background-color: ${color} !important;\n        }\n    `;\n}\n\nfunction messageReceived(e: MessageEvent<number>) {\n    if (progressBar) {\n        progressBar.value = 100 * e.data;\n        setProgressBarColor('#48D800');\n    }\n}\n\nfunction onDownload(arrayBuffer: Uint8Array) {\n    import(/* webpackChunkName: \"jszip\" */ 'jszip').then(({ default: JSZip }) => {\n        new JSZip().loadAsync(arrayBuffer).then(zip => Object.entries(zip.files).forEach(entry => {\n            const [ filename, fileData ] = entry;\n            if (fileData.dir) {\n                return;\n            }\n            if (filename.endsWith('.mp3')) {\n                decodeAudioData(filename, fileData);\n            }\n        }));\n    });\n\n    waitForDecodes().then(() => {\n        (document.getElementById('loading-progress') as HTMLProgressElement).value = 100;\n        setTimeout(() => {\n            loadStore();\n            initGraphics().then(() => {\n                exit();\n                enterStart();\n            });\n        }, 10);\n    });\n}\n\nfunction onTouchMove(e: TouchEvent) {\n    e.preventDefault();\n}\n\nfunction windowResized() {\n    const progressContainer = document.getElementById('progress-container') as HTMLDivElement;\n    const progressDiv = document.getElementById('progress-div') as HTMLDivElement;\n\n    progressContainer.style.width = progressContainer.style.height = '';\n    progressContainer.style.left = progressContainer.style.top = '';\n    progressContainer.style.display = 'none';\n\n    progressDiv.style.top = progressDiv.style.left = progressDiv.style.transform = '';\n    progressDiv.style.display = 'none';\n\n    const innerWidth = window.innerWidth;\n    const innerHeight = window.innerHeight;\n    landscape = (innerWidth >= innerHeight);\n\n    progressContainer.style.left = '0px';\n    progressContainer.style.top = '0px';\n    progressContainer.style.width = `${innerWidth}px`;\n    progressContainer.style.height = `${innerHeight}px`;\n    progressContainer.style.display = 'block';\n\n    progressDiv.style.display = 'flex';\n\n    if (landscape) {\n        const rect = progressDiv.getBoundingClientRect();\n        progressDiv.style.left = `${(innerWidth - rect.width) / 2}px`\n        progressDiv.style.top = `${(innerHeight - rect.height) / 2}px`;\n    } else {\n        progressDiv.style.transform = 'rotate(-90deg)';\n        const rect = progressDiv.getBoundingClientRect();\n        progressDiv.style.left = `${(innerWidth - rect.height) / 2}px`\n        progressDiv.style.top = `${(innerHeight - rect.width) / 2}px`;\n    }\n}","import { startAnimation, stopAnimation } from './animate';\nimport { acquireWakeLock, releaseWakeLock } from './wake-lock';\nimport { NoParamVoidFunc } from './no-param-void-func';\nimport { enter as enterStart } from './start';\nimport { PhysicalDimensions, Resolution } from './graphics';\nimport { startInput, stopInput } from './input';\nimport { renderScreen, resetGame, saveGame } from './game/game';\n\nexport let dpr: number;\n\nlet mainCanvas: HTMLCanvasElement;\nlet mainCtx: CanvasRenderingContext2D | null;\nlet mainCanvasWidth: number;\nlet mainCanvasHeight: number;\n\nlet screenCanvas: HTMLCanvasElement;\nlet ctx: CanvasRenderingContext2D | null;\n\nlet removeMediaEventListener: NoParamVoidFunc | null = null;\nlet exiting = false;\n\nlet screenWidth: number;\nlet screenHeight: number;\nlet screenX: number;\nlet screenY: number;\n\nfunction updatePixelRatio() {\n    if (removeMediaEventListener !== null) {\n        removeMediaEventListener();\n        removeMediaEventListener = null;\n    }\n\n    if (exiting) {\n        return;\n    }\n\n    const media = matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);\n    media.addEventListener(\"change\", updatePixelRatio);\n    removeMediaEventListener = () => media.removeEventListener(\"change\", updatePixelRatio);\n\n    onWindowResized();\n};\n\nexport function enter() {\n    exiting = false;\n\n    resetGame();\n\n    document.body.style.backgroundColor = '#C2BCB1';\n\n    screenCanvas = document.createElement('canvas');\n    screenCanvas.width = Resolution.WIDTH;\n    screenCanvas.height = Resolution.HEIGHT;  \n    ctx = screenCanvas.getContext('2d');\n\n    const mainElement = document.getElementById(\"main-content\") as HTMLElement;\n    mainElement.innerHTML = `<canvas id=\"main-canvas\" class=\"canvas\" width=\"1\" height=\"1\"></canvas>`;\n    mainCanvas = document.getElementById(\"main-canvas\") as HTMLCanvasElement;\n    mainCanvas.style.touchAction = 'none';\n\n    window.addEventListener('beforeunload', onBeforeUnload);\n    window.addEventListener('resize', onWindowResized);    \n    window.addEventListener('focus', onVisibilityChanged);\n    window.addEventListener('blur', onVisibilityChanged);\n    document.addEventListener('visibilitychange', onVisibilityChanged);\n    \n    acquireWakeLock();\n    updatePixelRatio();\n    startInput();\n    startAnimation();\n}\n\nfunction cleanUp() {\n    if (exiting) {\n        return;\n    }\n\n    exiting = true;\n    stopAnimation();\n    stopInput();\n    releaseWakeLock();\n    \n    window.removeEventListener('beforeunload', onBeforeUnload);\n    window.removeEventListener('resize', onWindowResized);    \n    window.removeEventListener('focus', onVisibilityChanged);\n    window.removeEventListener('blur', onVisibilityChanged);\n    document.removeEventListener('visibilitychange', onVisibilityChanged);\n\n    if (removeMediaEventListener !== null) {\n        removeMediaEventListener();\n        removeMediaEventListener = null;\n    }\n\n    saveGame();\n}\n\nexport function exit() {\n    cleanUp();\n    enterStart();\n}\n\nexport function render() {\n    if (!mainCtx) {\n        onWindowResized();\n        return;\n    }\n    if (!ctx) {\n        return;\n    }\n    \n    mainCtx.imageSmoothingEnabled = false;\n    mainCtx.fillStyle = '#0F0F0F';    \n    mainCtx.fillRect(0, 0, mainCanvasWidth, mainCanvasHeight);\n\n    ctx.imageSmoothingEnabled = false;\n    renderScreen(ctx);\n\n    mainCtx.drawImage(screenCanvas, screenX, screenY, screenWidth, screenHeight);\n\n    // hamburger icon\n    mainCtx.imageSmoothingEnabled = true;\n    mainCtx.fillStyle = '#FFFFFF';    \n    mainCtx.fillRect(27, 21, 18, 1);\n    mainCtx.fillRect(27, 27, 18, 1);\n    mainCtx.fillRect(27, 33, 18, 1);\n}\n\nfunction onWindowResized() {\n\n    if (exiting) {\n        return;\n    }\n\n    mainCtx = null;\n    mainCanvas = document.getElementById(\"main-canvas\") as HTMLCanvasElement;\n    mainCanvas.style.display = 'none';\n\n    const innerWidth = window.innerWidth;\n    const innerHeight = window.innerHeight;\n\n    mainCanvas.style.display = 'block';\n    mainCanvas.style.width = `${innerWidth}px`;\n    mainCanvas.style.height = `${innerHeight}px`;    \n    mainCanvas.style.position = 'absolute';\n    mainCanvas.style.left = '0px';\n    mainCanvas.style.top = '0px';\n\n    dpr = window.devicePixelRatio || 1;\n    mainCanvas.width = Math.floor(dpr * innerWidth);\n    mainCanvas.height = Math.floor(dpr * innerHeight);\n\n    const transform = new DOMMatrix();\n    if (innerWidth >= innerHeight) {\n        // Landscape mode\n        mainCanvasWidth = innerWidth;\n        mainCanvasHeight = innerHeight;\n        transform.a = transform.d = dpr;\n        transform.b = transform.c = transform.e = transform.f = 0;\n    } else {\n        // Portrait mode\n        mainCanvasWidth = innerHeight;\n        mainCanvasHeight = innerWidth;\n        transform.a = transform.d = transform.e = 0;\n        transform.c = dpr;\n        transform.b = -transform.c;        \n        transform.f = dpr * innerHeight;\n    }\n\n    mainCtx = mainCanvas.getContext('2d');\n    if (!mainCtx) {\n        return;\n    }\n    mainCtx.setTransform(transform);\n\n    screenHeight = mainCanvasHeight;\n    screenWidth = screenHeight * PhysicalDimensions.WIDTH / PhysicalDimensions.HEIGHT;\n    if (screenWidth > mainCanvasWidth) {\n        screenWidth = mainCanvasWidth;\n        screenHeight = screenWidth * PhysicalDimensions.HEIGHT / PhysicalDimensions.WIDTH;\n        screenX = 0;\n        screenY = Math.round((mainCanvasHeight - screenHeight) / 2);\n    } else {\n        screenX = Math.round((mainCanvasWidth - screenWidth) / 2);\n        screenY = 0;\n    }\n\n    render();\n}\n\nfunction onVisibilityChanged() {\n    if (!exiting && document.visibilityState === 'visible' && document.hasFocus()) {\n        acquireWakeLock();\n        startAnimation();\n    } else {\n        stopAnimation();\n    }\n}\n\nfunction onBeforeUnload() {\n    cleanUp();    \n}","import { JSZipObject } from \"jszip\";\r\n\r\nconst audioContext = new AudioContext();\r\n\r\nlet docVisible = true;\r\n\r\ndocument.addEventListener('visibilitychange', () => {\r\n    if (document.visibilityState === 'visible') {\r\n        docVisible = true;\r\n        if (audioContext.state === 'suspended') {\r\n            audioContext.resume();\r\n        }\r\n    } else if (document.visibilityState === 'hidden') {\r\n        docVisible = false;\r\n        if (audioContext.state === 'running') {\r\n            audioContext.suspend();\r\n        }\r\n    }\r\n});\r\n\r\nconst masterGain = audioContext.createGain();\r\nmasterGain.connect(audioContext.destination);\r\nmasterGain.gain.value = 0.1;\r\n\r\nconst promises: Promise<Map<string, AudioBuffer>>[] = [];\r\n\r\nconst audioBuffers = new Map<string, AudioBuffer>();\r\n\r\nexport function getVolume() {\r\n    return 100 * masterGain.gain.value;\r\n}\r\n\r\nexport function setVolume(volume: number) {\r\n    masterGain.gain.value = volume / 100;\r\n}\r\n\r\nexport function decodeAudioData(name: string, obj: JSZipObject) {\r\n    promises.push(obj.async('arraybuffer')\r\n        .then(data => audioContext.decodeAudioData(data))\r\n        .then(buffer => audioBuffers.set(name, buffer)));\r\n}\r\n\r\nexport async function waitForDecodes() {\r\n    return Promise.all(promises).then(() => promises.length = 0);\r\n}\r\n\r\nexport function playSoundEffect(name: string) {\r\n    if (audioContext.state === 'suspended') {\r\n        if (docVisible) {\r\n            audioContext.resume().then(() => playSoundEffect(name));\r\n        }\r\n        return;\r\n    }\r\n\r\n    const source = audioContext.createBufferSource();\r\n    source.buffer = audioBuffers.get(name) as AudioBuffer;\r\n    source.connect(masterGain);\r\n    source.start();\r\n}","import { setVolume } from './sfx';\r\nimport { enter as enterGame } from './screen';\r\nimport { store, saveStore } from './store';\r\n\r\nlet landscape = false;\r\n\r\nexport function enter() {\r\n    document.body.style.backgroundColor = '#0F0F0F';\r\n\r\n    window.addEventListener('resize', windowResized);\r\n    window.addEventListener('touchmove', onTouchMove, { passive: false });\r\n\r\n    const mainElement = document.getElementById('main-content') as HTMLElement;\r\n    mainElement.innerHTML = `\r\n            <div id=\"start-container\">\r\n                <div id=\"start-div\">\r\n                    <div id=\"high-score-div\">High Score: ${store.highScore}</div>\r\n                    <div class=\"volume-div\">\r\n                        <span class=\"left-volume-label material-icons\" id=\"left-volume-span\" \r\n                                lang=\"en\">volume_mute</span>\r\n                        <input type=\"range\" id=\"volume-input\" min=\"0\" max=\"100\" step=\"any\" value=\"10\">\r\n                        <span class=\"right-volume-label\" id=\"right-volume-span\" lang=\"en\">100</span>\r\n                    </div>\r\n                    <div class=\"checkboxes-div\">\r\n                        <div class=\"checkbox-item\">\r\n                            <input type=\"checkbox\" id=\"autofire-checkbox\" name=\"autofire-checkbox\">\r\n                            <label for=\"autofire-checkbox\">\r\n                                <span class=\"custom-checkbox\"></span>\r\n                                Autofire\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"checkbox-item\">\r\n                            <input type=\"checkbox\" id=\"tracer-checkbox\" name=\"tracer-checkbox\">\r\n                            <label for=\"tracer-checkbox\">\r\n                                <span class=\"custom-checkbox\"></span>\r\n                                Tracer\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"checkbox-item\">\r\n                            <input type=\"checkbox\" id=\"fast-checkbox\" name=\"fast-checkbox\">\r\n                            <label for=\"fast-checkbox\">\r\n                                <span class=\"custom-checkbox\"></span>\r\n                                Fast\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"go-div\">\r\n                        <button id=\"start-button\">${isNewGame() ? 'Start' : 'Continue'}</button>\r\n                    </div>\r\n                </div>\r\n            </div>`;\r\n\r\n    setVolume(store.volume);\r\n    const volumeInput = document.getElementById('volume-input') as HTMLInputElement;\r\n    volumeInput.addEventListener('input', volumeChanged);\r\n    volumeInput.value = String(store.volume);\r\n\r\n    const autofireCheckbox = document.getElementById('autofire-checkbox') as HTMLInputElement;\r\n    autofireCheckbox.checked = store.autofire;\r\n\r\n    const tracerCheckbox = document.getElementById('tracer-checkbox') as HTMLInputElement;\r\n    tracerCheckbox.checked = store.tracer;\r\n\r\n    const fastCheckbox = document.getElementById('fast-checkbox') as HTMLInputElement;\r\n    fastCheckbox.checked = store.fast;\r\n\r\n    const startButton = document.getElementById('start-button') as HTMLButtonElement;\r\n    startButton.addEventListener('click', startButtonClicked);\r\n\r\n    windowResized();\r\n}\r\n\r\nexport function exit() {\r\n    window.removeEventListener('resize', windowResized);\r\n    window.removeEventListener('touchmove', onTouchMove);\r\n\r\n    const volumeInput = document.getElementById('volume-input') as HTMLInputElement;\r\n    volumeInput.removeEventListener('input', volumeChanged);\r\n\r\n    const startButton = document.getElementById('start-button') as HTMLButtonElement;\r\n    startButton.removeEventListener('click', startButtonClicked);\r\n\r\n    const autofireCheckbox = document.getElementById('autofire-checkbox') as HTMLInputElement;\r\n    store.autofire = autofireCheckbox.checked;\r\n\r\n    const tracerCheckbox = document.getElementById('tracer-checkbox') as HTMLInputElement;\r\n    store.tracer = tracerCheckbox.checked;\r\n    \r\n    const fastCheckbox = document.getElementById('fast-checkbox') as HTMLInputElement;\r\n    store.fast = fastCheckbox.checked;\r\n    \r\n    saveStore();\r\n}\r\n\r\nfunction startButtonClicked() {\r\n    setVolume(store.volume);\r\n\r\n    const autofireCheckbox = document.getElementById('autofire-checkbox') as HTMLInputElement;\r\n    store.autofire = autofireCheckbox.checked;\r\n\r\n    const tracerCheckbox = document.getElementById('tracer-checkbox') as HTMLInputElement;\r\n    store.tracer = tracerCheckbox.checked;\r\n\r\n    const fastCheckbox = document.getElementById('fast-checkbox') as HTMLInputElement;\r\n    store.fast = fastCheckbox.checked;\r\n    \r\n    exit();\r\n    enterGame();\r\n}\r\n\r\nfunction onTouchMove(e: TouchEvent) {\r\n    let target = e.target as HTMLElement | null;\r\n    while (target !== null) {\r\n        if (target.id === 'volume-input') {\r\n            if (landscape) {\r\n                return;\r\n            }\r\n\r\n            const volumeInput = target as HTMLInputElement;\r\n            const max = parseFloat(volumeInput.max);\r\n            const min = parseFloat(volumeInput.min);\r\n            const rect = volumeInput.getBoundingClientRect();\r\n            const value = (1 - ((e.touches[0].clientY - rect.top) / rect.height)) * (max - min) + min;\r\n            volumeInput.value = value.toString();\r\n            volumeInput.dispatchEvent(new Event('input'));\r\n            return;\r\n        }\r\n        target = target.parentElement;\r\n    }\r\n    e.preventDefault();\r\n}\r\n\r\nfunction volumeChanged() {\r\n    const leftVolumeSpan = document.getElementById('left-volume-span') as HTMLSpanElement;\r\n    const volumeInput = document.getElementById('volume-input') as HTMLInputElement;\r\n    const rightVolumeSpan = document.getElementById('right-volume-span') as HTMLSpanElement;\r\n\r\n    store.volume = 100 * (+volumeInput.value - +volumeInput.min) / (+volumeInput.max - +volumeInput.min);\r\n    volumeInput.style.setProperty('--thumb-position', `${store.volume}%`);\r\n\r\n    if (store.volume === 0) {\r\n        leftVolumeSpan.textContent = 'volume_off';\r\n    } else if (store.volume < 33) {\r\n        leftVolumeSpan.textContent = 'volume_mute';\r\n    } else if (store.volume < 66) {\r\n        leftVolumeSpan.textContent = 'volume_down';\r\n    } else {\r\n        leftVolumeSpan.textContent = 'volume_up';\r\n    }\r\n\r\n    rightVolumeSpan.textContent = String(Math.round(store.volume));\r\n}\r\n\r\nfunction windowResized() {\r\n    const startContainer = document.getElementById('start-container') as HTMLDivElement;\r\n    const startDiv = document.getElementById('start-div') as HTMLDivElement;\r\n    const leftVolumeSpan = document.getElementById('left-volume-span') as HTMLSpanElement;\r\n    const rightVolumeSpan = document.getElementById('right-volume-span') as HTMLSpanElement;\r\n\r\n    startContainer.style.width = startContainer.style.height = '';\r\n    startContainer.style.left = startContainer.style.top = '';\r\n    startContainer.style.display = 'none';\r\n\r\n    startDiv.style.left = startDiv.style.top = startDiv.style.transform = '';\r\n    startDiv.style.display = 'none';\r\n\r\n    const innerWidth = window.innerWidth;\r\n    const innerHeight = window.innerHeight;\r\n    landscape = (innerWidth >= innerHeight);\r\n\r\n    startContainer.style.left = '0px';\r\n    startContainer.style.top = '0px';\r\n    startContainer.style.width = `${innerWidth}px`;\r\n    startContainer.style.height = `${innerHeight}px`;\r\n    startContainer.style.display = 'block';\r\n\r\n    startDiv.style.display = 'flex';\r\n\r\n    leftVolumeSpan.style.width = '';\r\n    leftVolumeSpan.style.display = 'inline-block';\r\n    leftVolumeSpan.style.textAlign = 'center';\r\n    leftVolumeSpan.textContent = '\\u{1F507}';\r\n    leftVolumeSpan.style.transform = '';\r\n\r\n    rightVolumeSpan.style.width = '';\r\n    rightVolumeSpan.style.display = 'inline-block';\r\n    rightVolumeSpan.style.textAlign = 'center';\r\n    rightVolumeSpan.textContent = '100';\r\n\r\n    if (landscape) {\r\n        const leftVolumeSpanWidth = leftVolumeSpan.getBoundingClientRect().width;\r\n        leftVolumeSpan.style.width = `${leftVolumeSpanWidth}px`;\r\n\r\n        const rightVolumeSpanWidth = rightVolumeSpan.getBoundingClientRect().width;\r\n        rightVolumeSpan.style.width = `${rightVolumeSpanWidth}px`;\r\n\r\n        const rect = startDiv.getBoundingClientRect();\r\n        startDiv.style.left = `${(innerWidth - rect.width) / 2}px`\r\n        startDiv.style.top = `${(innerHeight - rect.height) / 2}px`;\r\n    } else {\r\n        const leftVolumeSpanHeight = leftVolumeSpan.getBoundingClientRect().height;\r\n        leftVolumeSpan.style.width = `${leftVolumeSpanHeight}px`;\r\n\r\n        const rightVolumeSpanHeight = rightVolumeSpan.getBoundingClientRect().height;\r\n        rightVolumeSpan.style.width = `${rightVolumeSpanHeight}px`;\r\n\r\n        startDiv.style.transform = 'rotate(-90deg)';\r\n        const rect = startDiv.getBoundingClientRect();\r\n        startDiv.style.left = `${(innerWidth - rect.height) / 2}px`\r\n        startDiv.style.top = `${(innerHeight - rect.width) / 2}px`;\r\n    }\r\n    rightVolumeSpan.textContent = String(store.volume);\r\n\r\n    volumeChanged();\r\n}\r\n\r\nfunction isNewGame() {\r\n    return true; // TODO\r\n}","import { isTouchOnlyDevice } from './input';\r\n\r\nexport const LOCAL_STORAGE_KEY = 'pitfall-store';\r\n\r\nexport class Store {\r\n    highScore = 0;\r\n    \r\n    volume = 10;\r\n\r\n    autofire = isTouchOnlyDevice();\r\n    tracer = false;\r\n    fast = false;\r\n   \r\n\r\n}\r\n\r\nexport let store: Store;\r\n\r\nexport function saveStore() {\r\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(store));\r\n}\r\n\r\nexport function loadStore() {\r\n    if (store) {\r\n        return;\r\n    }\r\n\r\n    const str = localStorage.getItem(LOCAL_STORAGE_KEY);\r\n    if (str) {\r\n        try {\r\n            store = JSON.parse(str) as Store;\r\n        } catch {\r\n            store = new Store();            \r\n        }\r\n    } else {\r\n        store = new Store();\r\n    }\r\n}","let wakeLock: WakeLockSentinel | null = null;\r\nlet acquiringWaitLock = false;\r\n\r\nexport function acquireWakeLock() {\r\n    if (!acquiringWaitLock && wakeLock === null && 'wakeLock' in navigator) {\r\n        acquiringWaitLock = true;\r\n        navigator.wakeLock.request('screen')\r\n            .then(w => {\r\n                if (acquiringWaitLock) {\r\n                    wakeLock = w;\r\n                    wakeLock.addEventListener(\"release\", () => {\r\n                        if (!acquiringWaitLock) {\r\n                            wakeLock = null;\r\n                        }\r\n                    });\r\n                }\r\n            }).catch(_ => {\r\n        }).finally(() => acquiringWaitLock = false);\r\n    }\r\n}\r\n\r\nexport function releaseWakeLock() {\r\n    if (wakeLock !== null && 'wakeLock' in navigator) {\r\n        acquiringWaitLock = false;\r\n        wakeLock.release()\r\n            .then(() => {\r\n                if (!acquiringWaitLock) {\r\n                    wakeLock = null;\r\n                }\r\n            }).catch(_ => {\r\n        });\r\n    }\r\n}"],"names":[],"sourceRoot":""}